{% extends "_layouts/app.html" %} 
{% block head %}
<title>Lab-Genetics - Estudios en espera a Enviar al Exterior</title>
{% endblock %}

{% block content %}
<main class="flex flex-col items-center min-h-screen">
  <section class="w-full max-w-4xl px-4 py-12 text-center">
    <h1 class="mb-4 text-3xl font-extrabold text-indigo-800 md:text-4xl lg:text-5xl">
      Estudios en espera a Enviar al Exterior
    </h1>
    {% if estudios %}
    <p class="mb-4 text-base md:text-lg text-zinc-500">
      A continuaci√≥n se muestra un listado de estudios en espera para enviar al exterior.
    </p>
    <p class="mb-4 text-base text-blue-500 md:text-lg">
        Cantidad de estudios en espera: {{ cantidad_estudios }}
    </p>
    <div class="w-full overflow-x-auto">
      <table class="w-full text-left border-collapse table-auto">
        <thead>
          <tr class="text-white bg-indigo-500">
            <th class="px-4 py-2">ID Estudio</th>
            <th class="px-4 py-2">Tipo de Estudio</th>
            <th class="px-4 py-2">Fecha de ingreso</th>
          </tr>
        </thead>
        <tbody>
          {% for estudio in estudios %}
          <tr class="text-black bg-very-light-yellow-green">
            <td class="px-4 py-2">{{ estudio.id }}</td>
            <td class="px-4 py-2">{{ estudio.tipo_estudio }}</td>
            <td class="px-4 py-2">{{ estudio.fecha_ingreso_central.strftime('%Y-%m-%d') }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      {% if cantidad_estudios >= 100 %}
      <form action="{{ url_for('espera_envios.espera_envios') }}" method="POST" class="inline">
        <button type="submit" class="w-full px-4 py-2 font-semibold text-white bg-indigo-600 rounded-lg shadow-md hover:bg-indigo-700 hover:shadow-lg">
          Enviar estudios al exterior
        </button>
      </form>
    {% endif %}
    </div>
    {% else %}
      <p class="mb-4 text-base text-green-600 md:text-lg"><strong>No hay estudios en espera.<strong></p>
    {% endif %}
  </section>
</main>
{% endblock %}